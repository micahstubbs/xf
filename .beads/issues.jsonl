{"id":"xf-10","title":"Test Issue","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T19:03:06.322242-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:03:13.179271-05:00","closed_at":"2026-01-10T19:03:13.179271-05:00","close_reason":"Test issue - deleting"}
{"id":"xf-11","title":"xf UX \u0026 Reliability Improvements","description":"## Overview\n\nThis epic encompasses 5 high-impact improvements to xf identified through systematic analysis of the codebase, user workflows, and feature gaps. These improvements were prioritized based on: (1) filling explicit feature gaps where users encounter 'not implemented' errors, (2) transforming power-user workflows, (3) building reliability/trust, and (4) improving ergonomics.\n\n## Background \u0026 Motivation\n\nxf is a CLI tool for indexing and searching X (Twitter) data archives locally. While core search functionality is excellent (sub-millisecond queries via Tantivy), analysis revealed several key gaps:\n\n1. **DM Context (--context flag)** - CLI flag exists but throws 'not implemented yet' at line 287 of main.rs. Users who download their archive often want to revisit old DM conversations, making this the #1 most requested missing feature.\n\n2. **Detailed Stats (--detailed, --hashtags, --mentions flags)** - CLI flags exist but throw 'not implemented yet' at line 629. Users are curious about their posting patterns when downloading years of Twitter data.\n\n3. **Interactive Mode** - Power users need to run multiple searches iteratively. Currently each search requires typing the full 'xf search \"query\"' command. A REPL mode would dramatically improve this workflow.\n\n4. **Health Checks** - No way to verify database/index integrity. Users need confidence that their indexed data is healthy, especially before relying on search results for important lookups.\n\n5. **Natural Language Dates** - --since and --until require ISO format (YYYY-MM-DD) which is unfriendly. Users naturally want to say 'since last month' or 'from december 2023'.\n\n## Technical Context\n\n- **Search engine**: Tantivy (Lucene-like, Rust)\n- **Storage**: SQLite with FTS5 virtual tables\n- **CLI**: clap with derive macros\n- **Parsing**: serde_json for JavaScript-wrapped JSON (window.YTD.*)\n- **Parallelism**: rayon for archive parsing\n\n## Success Criteria\n\n- All 5 features implemented with comprehensive tests\n- No regressions in existing functionality\n- All quality gates pass: cargo check, clippy, fmt, test\n- Documentation updated (help text, README if needed)\n- Each feature fills an explicit gap or provides obvious user value\n\n## Priority Rationale\n\nP2 (medium) because these are enhancements rather than critical bugs. However, features #1 and #2 fill explicit gaps where users encounter errors, making them high-value.\n\n## Child Epics (to be created)\n\n- DM Conversation Viewer (priority #1 - fills biggest functional gap)\n- Enhanced Stats Dashboard (priority #2 - fills explicit gap, differentiating feature)\n- Interactive REPL Mode (priority #3 - biggest workflow improvement)\n- xf doctor Health Check (priority #4 - reliability/trust)\n- Natural Language Date Filtering (priority #5 - ergonomic improvement)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T19:03:43.51052-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:03:43.51052-05:00"}
{"id":"xf-11.1","title":"DM Conversation Viewer (--context flag)","description":"## Overview\n\nImplement the --context flag for DM search results to display full conversation context around matched messages. This is the #1 most impactful improvement identified because it fills the single biggest functional gap in xf.\n\n## Background\n\nWhen users download their X archive, one of the primary use cases is revisiting old DM conversations. Currently:\n\n- The --context flag exists in cli.rs (SearchArgs, line 151)\n- Using it throws: 'DM context output is not implemented yet' (main.rs line 287)\n- DM search results show isolated messages without conversation context\n- The data model already has conversation_id linking messages\n\nThis is the most requested missing feature because searching for a DM and finding a single message is nearly useless without seeing the surrounding conversation.\n\n## Current State\n\n**cli.rs (lines 149-151)**:\n```rust\n/// Include surrounding context (for DMs)\n#[arg(long, short = 'c')]\npub context: bool,\n```\n\n**main.rs (lines 286-288)**:\n```rust\nif args.context {\n    anyhow::bail!(\"DM context output is not implemented yet.\");\n}\n```\n\n**Data Model (storage.rs)**:\n- direct_messages table has conversation_id column\n- DirectMessage model exists but doesn't carry conversation_id (noted in xf-9rf.4)\n\n## Implementation Approach\n\n1. **Storage Layer**: Add get_conversation_messages(conversation_id) method to fetch all messages in a conversation, ordered by timestamp\n\n2. **Search Integration**: When --context is used with --types dm:\n   - Perform normal search to find matching messages\n   - For each result, extract conversation_id from metadata\n   - Fetch full conversation context\n   - Display with matched message highlighted\n\n3. **Display Format**: Show conversation in natural reading order:\n```\nConversation with @friend (2023-12-15 to 2023-12-15):\n  [14:32] friend: Hey, want to grab dinner?\n  [14:35] you: Sure! When were you thinking?  ← matched\n  [14:36] friend: How about 7pm?\n  [14:40] you: Perfect, see you then\n```\n\n## Technical Considerations\n\n1. **DirectMessage model**: May need to add conversation_id field, or retrieve it from stored metadata JSON\n2. **Performance**: Fetching full conversations for many results could be slow. Consider limiting context to N messages before/after match\n3. **Output formats**: Need to handle --format json, text, etc. JSON should include conversation structure\n4. **Multiple matches in same conversation**: Deduplicate to show conversation once with all matches highlighted\n\n## Acceptance Criteria\n\n- [ ] xf search \"query\" --types dm --context shows full conversation context\n- [ ] Matched message is visually highlighted in text output\n- [ ] JSON output includes structured conversation with match indicators\n- [ ] Performance is acceptable (\u003c 100ms for typical results)\n- [ ] Tests cover various scenarios (single match, multiple matches, empty conversations)\n- [ ] Help text updated to explain context behavior\n\n## Dependencies\n\n- None (this is a self-contained feature)\n\n## Child Tasks (to be created)\n\n1. Add get_conversation_messages to storage.rs\n2. Update DirectMessage handling for conversation_id\n3. Implement context display in cmd_search\n4. Add context formatting for different output modes\n5. Add tests for DM context functionality\n6. Update CLI help text","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-10T19:04:10.48158-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:04:10.48158-05:00","dependencies":[{"issue_id":"xf-11.1","depends_on_id":"xf-11","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.1.1","title":"Add get_conversation_messages to storage.rs","description":"## Goal\n\nAdd a new method to Storage that retrieves all messages in a DM conversation by conversation_id, ordered by timestamp.\n\n## Implementation\n\nAdd to storage.rs in the Storage impl block (after get_all_dms around line 1084):\n\n```rust\n/// Get all messages in a specific DM conversation.\n///\n/// Returns messages ordered by creation timestamp (oldest first).\n///\n/// # Arguments\n/// * `conversation_id` - The conversation ID to fetch messages for\n///\n/// # Errors\n/// Returns an error if the database query fails.\npub fn get_conversation_messages(\u0026self, conversation_id: \u0026str) -\u003e Result\u003cVec\u003cDirectMessage\u003e\u003e {\n    let query = r\"\n        SELECT id, conversation_id, sender_id, recipient_id, text,\n               created_at, urls_json, media_urls_json\n        FROM direct_messages \n        WHERE conversation_id = ?\n        ORDER BY created_at ASC\n    \";\n    \n    let mut stmt = self.conn.prepare(query)?;\n    let messages = stmt\n        .query_map([conversation_id], |row| {\n            Ok(DirectMessage {\n                id: row.get(0)?,\n                sender_id: row.get(2)?,\n                recipient_id: row.get(3)?,\n                text: row.get(4)?,\n                created_at: row\n                    .get::\u003c_, String\u003e(5)\n                    .ok()\n                    .and_then(|s| DateTime::parse_from_rfc3339(\u0026s).ok())\n                    .map_or_else(Utc::now, |dt| dt.with_timezone(\u0026Utc)),\n                urls: serde_json::from_str(\u0026row.get::\u003c_, String\u003e(6)?).unwrap_or_default(),\n                media_urls: serde_json::from_str(\u0026row.get::\u003c_, String\u003e(7)?).unwrap_or_default(),\n            })\n        })?\n        .filter_map(std::result::Result::ok)\n        .collect();\n\n    Ok(messages)\n}\n```\n\n## Key Points\n\n1. **Column selection**: Includes conversation_id (column 1) but we don't store it in DirectMessage struct currently. This is noted - parent epic may need to update the model.\n\n2. **Ordering**: ASC by created_at so messages appear in chronological order (reading order).\n\n3. **Pattern**: Follows existing get_all_* methods pattern for consistency.\n\n4. **Error handling**: Uses filter_map like other methods to skip any malformed rows.\n\n## Testing\n\nAdd test in storage.rs tests module:\n\n```rust\n#[test]\nfn test_get_conversation_messages() {\n    let storage = create_test_storage();\n    // Setup: store a conversation with multiple messages\n    let conv = DmConversation {\n        conversation_id: \"conv-123\".to_string(),\n        messages: vec\\![\n            create_test_dm(\"msg-1\", \"Hello\"),\n            create_test_dm(\"msg-2\", \"Hi there\"),\n            create_test_dm(\"msg-3\", \"How are you?\"),\n        ],\n    };\n    storage.store_dm_conversations(\u0026[conv]).unwrap();\n    \n    // Test: fetch by conversation_id\n    let messages = storage.get_conversation_messages(\"conv-123\").unwrap();\n    assert_eq\\!(messages.len(), 3);\n    assert_eq\\!(messages[0].text, \"Hello\");\n    \n    // Test: nonexistent conversation returns empty\n    let empty = storage.get_conversation_messages(\"nonexistent\").unwrap();\n    assert\\!(empty.is_empty());\n}\n```\n\n## Acceptance Criteria\n\n- [ ] Method added to Storage impl\n- [ ] Returns messages in chronological order\n- [ ] Handles nonexistent conversation_id gracefully (empty vec)\n- [ ] Test added and passing\n- [ ] cargo check, clippy pass","notes":"Started implementation of --context DM viewer: added get_conversation_messages to storage.rs and context output pipeline in cmd_search; added conversation context structs, grouping by conversation_id, and text/JSON rendering; added unit test for get_conversation_messages; fixed stats JSON optional fields and filtered empty top_counts entries.","status":"in_progress","priority":1,"issue_type":"task","assignee":"SageDune","created_at":"2026-01-10T19:04:32.991463-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:56.389530922-05:00","dependencies":[{"issue_id":"xf-11.1.1","depends_on_id":"xf-11.1","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.1.2","title":"Implement DM context display in cmd_search","description":"## Goal\n\nRemove the 'not implemented' error and implement proper DM context display when --context flag is used with DM search.\n\n## Current Code (main.rs lines 286-288)\n\n```rust\nif args.context {\n    anyhow::bail\\!(\"DM context output is not implemented yet.\");\n}\n```\n\n## Implementation\n\nReplace the bail\\! with actual context handling logic. The implementation should:\n\n1. **Detect when context applies**: Only when --types includes 'dm' and --context is set\n\n2. **Extract conversation_id from results**: Each DM search result's metadata JSON contains conversation_id\n\n3. **Fetch conversation context**: Use the new get_conversation_messages method\n\n4. **Display with highlighting**: Show full conversation with the matched message highlighted\n\n## Pseudocode\n\n```rust\n// In cmd_search, after getting search results:\nif args.context \u0026\u0026 args.types.as_ref().map_or(false, |t| t.iter().any(|x| matches\\!(x, DataType::Dm))) {\n    // Group results by conversation_id\n    let mut conversations_shown: HashSet\u003cString\u003e = HashSet::new();\n    \n    for result in \u0026results {\n        if result.result_type \\!= SearchResultType::DirectMessage {\n            continue;\n        }\n        \n        // Extract conversation_id from metadata\n        let conv_id = result.metadata[\"conversation_id\"].as_str().unwrap_or_default();\n        \n        // Skip if we already showed this conversation\n        if conversations_shown.contains(conv_id) {\n            continue;\n        }\n        conversations_shown.insert(conv_id.to_string());\n        \n        // Fetch full conversation\n        let messages = storage.get_conversation_messages(conv_id)?;\n        \n        // Find matched message IDs in this conversation\n        let matched_ids: HashSet\u003c_\u003e = results.iter()\n            .filter(|r| r.metadata[\"conversation_id\"].as_str() == Some(conv_id))\n            .map(|r| r.id.as_str())\n            .collect();\n        \n        // Display conversation with highlights\n        display_dm_conversation(\u0026messages, \u0026matched_ids, \u0026cli.format);\n    }\n} else {\n    // Normal result display\n    for result in \u0026results {\n        print_result(\u0026result, \u0026cli.format, ...);\n    }\n}\n```\n\n## Display Format (text mode)\n\n```\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\nConversation (2023-12-15)\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n  [14:32] 12345678: Hey, want to grab dinner?\n► [14:35] 87654321: Sure\\! When were you thinking?\n  [14:36] 12345678: How about 7pm?\n  [14:40] 87654321: Perfect, see you then\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n```\n\nThe ► indicates matched messages, and the line should be colored (cyan or yellow).\n\n## Edge Cases\n\n1. **No DM types in search**: If --context is used without --types dm, show warning or ignore\n2. **Multiple matches in conversation**: Show conversation once with all matches highlighted\n3. **Empty conversations**: Skip display\n4. **Very long conversations**: Consider limiting to N messages around matches\n\n## Dependencies\n\n- xf-11.1.1: get_conversation_messages must exist first\n\n## Acceptance Criteria\n\n- [ ] --context no longer throws 'not implemented' error\n- [ ] DM results show full conversation context\n- [ ] Matched messages are visually highlighted\n- [ ] Conversations are deduplicated (shown once even if multiple matches)\n- [ ] Works with all output formats (text, json, compact, csv)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:05:01.194389-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:05:01.194389-05:00","dependencies":[{"issue_id":"xf-11.1.2","depends_on_id":"xf-11.1","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.1.2","depends_on_id":"xf-11.1.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.1.3","title":"Add unit tests for DM context functionality","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:06:59.983466-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:06:59.983466-05:00","dependencies":[{"issue_id":"xf-11.1.3","depends_on_id":"xf-11.1","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.1.3","depends_on_id":"xf-11.1.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.1.3","depends_on_id":"xf-11.1.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.1.4","title":"Update CLI help text and README for --context flag","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:07:06.472161-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:07:06.472161-05:00","dependencies":[{"issue_id":"xf-11.1.4","depends_on_id":"xf-11.1","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.1.4","depends_on_id":"xf-11.1.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.2","title":"Enhanced Stats Dashboard (--detailed flag)","description":"Add a --detailed flag to xf stats that shows comprehensive archive analytics including temporal patterns, engagement distributions, content type breakdowns, and user interaction metrics. Transforms the basic stats command into a powerful analytics dashboard.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-10T19:07:22.685312-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:07:22.685312-05:00","dependencies":[{"issue_id":"xf-11.2","depends_on_id":"xf-11","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.2.1","title":"Add temporal analytics to stats command","description":"Add temporal analysis: tweets per day/week/month, peak activity hours, posting frequency trends, longest gaps. Use SQL aggregations on existing tweet timestamps. Output sparklines for trends.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:08:11.877953-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:11.877953-05:00","dependencies":[{"issue_id":"xf-11.2.1","depends_on_id":"xf-11.2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.2.2","title":"Add engagement analytics to stats command","description":"Add engagement metrics: likes received distribution (histogram buckets), retweet counts by content type, reply engagement rates, identify top 10 performing tweets by total engagement score.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:08:12.244568-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:12.244568-05:00","dependencies":[{"issue_id":"xf-11.2.2","depends_on_id":"xf-11.2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.2.3","title":"Add content analysis to stats command","description":"Add content breakdown: media vs text-only ratio, thread vs standalone detection, hashtag frequency (top 20), mention patterns showing who you interact with most. All computable from existing stored fields.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:08:12.592229-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:12.592229-05:00","dependencies":[{"issue_id":"xf-11.2.3","depends_on_id":"xf-11.2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.2.4","title":"Add --detailed flag and output formatting","description":"Add clap --detailed flag to stats subcommand. Wire up to trigger extended analytics. Format output with colored sections, ASCII sparklines for temporal data, tabular alignment. Ensure JSON mode outputs all metrics.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:08:12.922482-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:12.922482-05:00","dependencies":[{"issue_id":"xf-11.2.4","depends_on_id":"xf-11.2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.2.4","depends_on_id":"xf-11.2.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.2.4","depends_on_id":"xf-11.2.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.2.4","depends_on_id":"xf-11.2.3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.2.5","title":"Add tests for enhanced stats analytics","description":"Unit tests for temporal, engagement, and content analytics. Test edge cases: empty archives, single tweet, massive archives. Integration test for --detailed flag. Verify JSON output schema.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:08:23.225389-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:23.225389-05:00","dependencies":[{"issue_id":"xf-11.2.5","depends_on_id":"xf-11.2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.2.5","depends_on_id":"xf-11.2.4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.3","title":"Interactive REPL Mode (xf shell)","description":"Add 'xf shell' command for interactive archive exploration. REPL with command history, tab completion, persistent session state, and query refinement. Reduces friction for exploratory searches by eliminating repeated 'xf' prefix and index loading.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T19:08:37.178423-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:37.178423-05:00","dependencies":[{"issue_id":"xf-11.3","depends_on_id":"xf-11","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.3.1","title":"Implement REPL core with rustyline","description":"Add rustyline dependency for readline support. Create repl.rs module with main loop. Parse commands (search, stats, list, help, quit). Maintain loaded index across commands. Add history file at ~/.xf_history.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:08:52.475269-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:52.475269-05:00","dependencies":[{"issue_id":"xf-11.3.1","depends_on_id":"xf-11.3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.3.2","title":"Add tab completion for REPL commands","description":"Implement rustyline Completer trait. Complete command names (search, stats, list, help, export, quit). Complete flags (--type, --from, --to, --limit). Context-aware completion for --type values (tweet, dm, like, etc).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:08:52.888703-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:52.888703-05:00","dependencies":[{"issue_id":"xf-11.3.2","depends_on_id":"xf-11.3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.3.2","depends_on_id":"xf-11.3.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.3.3","title":"Add REPL session state and query refinement","description":"Store last query results in session. Add refine command to filter previous results. Add 'more' command to paginate. Support variable substitution (e.g., $1 for first result ID). Enable chained operations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:08:53.278205-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:53.278205-05:00","dependencies":[{"issue_id":"xf-11.3.3","depends_on_id":"xf-11.3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.3.3","depends_on_id":"xf-11.3.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.3.4","title":"Add xf shell subcommand to CLI","description":"Add Shell variant to Commands enum in main.rs. Wire up to repl::run(). Pass loaded storage and index. Add --prompt flag to customize prompt. Document in help text.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:08:53.687242-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:08:53.687242-05:00","dependencies":[{"issue_id":"xf-11.3.4","depends_on_id":"xf-11.3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.3.4","depends_on_id":"xf-11.3.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.3.5","title":"Add tests for REPL mode","description":"Unit tests for command parsing. Integration tests for REPL session flow. Test tab completion. Test history persistence. Mock stdin/stdout for automated testing.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T19:09:03.5476-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:03.5476-05:00","dependencies":[{"issue_id":"xf-11.3.5","depends_on_id":"xf-11.3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.3.5","depends_on_id":"xf-11.3.4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4","title":"xf doctor Health Check Command","description":"Add 'xf doctor' command to diagnose common archive and index issues. Validates archive structure, checks index integrity, detects orphaned records, measures search performance, and provides actionable fix suggestions. Essential for troubleshooting.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-10T19:09:20.038868-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:20.038868-05:00","dependencies":[{"issue_id":"xf-11.4","depends_on_id":"xf-11","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4.1","title":"Implement archive structure validation","description":"Check for expected archive directories and files. Validate JSON structure in data files. Report missing/corrupt files. Check for duplicate tweet IDs. Verify timestamp consistency.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:09:35.993651-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:35.993651-05:00","dependencies":[{"issue_id":"xf-11.4.1","depends_on_id":"xf-11.4","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4.2","title":"Implement Tantivy index health check","description":"Verify index directory exists and is readable. Check segment count and sizes. Run sample queries to verify search works. Detect index corruption. Report index version compatibility.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:09:36.518068-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:36.518068-05:00","dependencies":[{"issue_id":"xf-11.4.2","depends_on_id":"xf-11.4","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4.3","title":"Implement SQLite database health check","description":"Run PRAGMA integrity_check. Verify FTS5 index integrity. Check for orphaned records between tables. Report table sizes and row counts. Detect schema version mismatches.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T19:09:36.88663-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:36.88663-05:00","dependencies":[{"issue_id":"xf-11.4.3","depends_on_id":"xf-11.4","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4.4","title":"Add performance benchmarks to doctor","description":"Measure index load time. Benchmark simple and complex queries. Report query latency percentiles. Compare against expected baselines. Flag performance regressions.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:09:37.267085-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:37.267085-05:00","dependencies":[{"issue_id":"xf-11.4.4","depends_on_id":"xf-11.4","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.4","depends_on_id":"xf-11.4.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.4","depends_on_id":"xf-11.4.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.4","depends_on_id":"xf-11.4.3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4.5","title":"Add doctor CLI subcommand with fix suggestions","description":"Add Doctor variant to Commands enum. Wire up all checks. Format output with emoji status indicators. Provide actionable fix commands (e.g., 'xf reindex' suggestion). Add --fix flag for auto-repair where safe.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:09:37.696048-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:09:37.696048-05:00","dependencies":[{"issue_id":"xf-11.4.5","depends_on_id":"xf-11.4","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.5","depends_on_id":"xf-11.4.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.5","depends_on_id":"xf-11.4.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.5","depends_on_id":"xf-11.4.3","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.5","depends_on_id":"xf-11.4.4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.4.6","title":"Add tests for doctor command","description":"Create test fixtures for healthy and corrupt archives. Test each check individually. Test combined output. Test --fix flag behavior. Verify no false positives on valid archives.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:10:03.233128-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:03.233128-05:00","dependencies":[{"issue_id":"xf-11.4.6","depends_on_id":"xf-11.4","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.4.6","depends_on_id":"xf-11.4.5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.5","title":"Natural Language Date Filtering","description":"Enable human-friendly date expressions in --from and --to flags. Parse expressions like 'last week', '3 months ago', 'January 2023', 'Q4 2022'. Drastically improves usability for temporal queries without requiring exact ISO timestamps.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T19:10:11.839368-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:11.839368-05:00","dependencies":[{"issue_id":"xf-11.5","depends_on_id":"xf-11","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.5.1","title":"Add date_parser.rs module with chrono-english","description":"Add chrono-english or similar crate for natural date parsing. Create date_parser.rs module. Implement parse_human_date(input: \u0026str) -\u003e Result\u003cDateTime\u003e. Support: 'yesterday', 'last week', '3 months ago', 'January 2023', etc.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:10:25.649601-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:25.649601-05:00","dependencies":[{"issue_id":"xf-11.5.1","depends_on_id":"xf-11.5","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.5.2","title":"Add relative date expressions support","description":"Parse expressions: 'N days/weeks/months/years ago', 'last N days/weeks/months', 'past week', 'this month'. Handle timezone awareness. Compute relative to current date at query time.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:10:26.178503-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:26.178503-05:00","dependencies":[{"issue_id":"xf-11.5.2","depends_on_id":"xf-11.5","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.5.2","depends_on_id":"xf-11.5.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.5.3","title":"Add named period expressions support","description":"Parse: 'January 2023', 'Q1 2024', 'summer 2022', 'weekend', 'weekdays'. Map to date ranges. Q1=Jan-Mar, Q2=Apr-Jun, Q3=Jul-Sep, Q4=Oct-Dec. Summer=Jun-Aug, etc.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:10:26.655467-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:26.655467-05:00","dependencies":[{"issue_id":"xf-11.5.3","depends_on_id":"xf-11.5","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.5.3","depends_on_id":"xf-11.5.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.5.4","title":"Integrate date parser with CLI flags","description":"Modify --from and --to argument parsing in main.rs. Try natural language first, fall back to ISO format. Display parsed date in verbose mode for user confirmation. Update help text with examples.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:10:27.16169-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:27.16169-05:00","dependencies":[{"issue_id":"xf-11.5.4","depends_on_id":"xf-11.5","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.5.4","depends_on_id":"xf-11.5.1","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.5.4","depends_on_id":"xf-11.5.2","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.5.4","depends_on_id":"xf-11.5.3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-11.5.5","title":"Add comprehensive tests for date parsing","description":"Test all expression types: relative, named periods, mixed formats. Test edge cases: leap years, timezone boundaries, ambiguous expressions. Test fallback to ISO format. Verify error messages are helpful.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:10:41.07647-05:00","created_by":"jemanuel","updated_at":"2026-01-10T19:10:41.07647-05:00","dependencies":[{"issue_id":"xf-11.5.5","depends_on_id":"xf-11.5","type":"parent-child","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"xf-11.5.5","depends_on_id":"xf-11.5.4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"xf-9rf","title":"xf: Full System Investigation, Review, and Performance Optimization","description":"Goal: Provide a self-contained, end-to-end plan to deeply understand the xf codebase, review code (including prior agent changes), identify and fix correctness/reliability issues, and run a rigorous performance investigation and optimization program.\n\nBackground/context:\n- Project root: /data/projects/xf\n- Key documents: AGENTS.md, README.md\n- Dataset provided for profiling: /data/projects/je_twitter_data/twitter-2026-01-09-b207c0562001e0a3e60faf1985feb13876dfbfe85c6831a1c73016daf6d4f2cc.zip (already extracted under /data/projects/je_twitter_data)\n- Perf workflow requirements: baseline metrics (p50/p95/p99, throughput, peak RSS), profile CPU/allocation/I/O, define equivalence oracles, rank opportunities by (Impact x Confidence)/Effort, apply minimal diffs with proof sketches, add regression guardrails.\n\nOutcome:\n- A structured set of tasks/subtasks with dependencies and detailed instructions so future work is self-contained and does not require the original plan document.\n\nNotes/constraints to preserve:\n- Follow AGENTS.md instructions (no file deletion, use apply_patch for edits, etc.).\n- Any optimization must preserve outputs for identical inputs (explicit proof sketch required).\n- Use minimal diffs: one performance lever per change, no unrelated refactors.\n- Add rollback guidance if risk exists.\n","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T02:23:41.616748361-05:00","created_by":"ubuntu","updated_at":"2026-01-10T02:23:41.616748361-05:00"}
{"id":"xf-9rf.1","title":"Read AGENTS.md + README and capture constraints","description":"Goal:\n- Re-read AGENTS.md and README.md in full and summarize all constraints, workflows, and project goals in a durable form.\n\nWhy:\n- All subsequent investigation, fixes, and performance work must comply with AGENTS.md instructions (e.g., no file deletion, apply_patch usage).\n\nSteps:\n1) Read /data/projects/xf/AGENTS.md carefully (end-to-end). Extract: editing constraints, testing expectations, prohibited actions, perf methodology, and any doc references to best practices.\n2) Read /data/projects/xf/README.md carefully. Extract: project purpose, build/run commands, data formats, expected usage.\n3) Record a concise summary in a working note (or issue comment) that can be referenced without re-opening the source docs.\n\nAcceptance:\n- A clear summary that enumerates all operational constraints and expected workflows.\n- Any referenced best-practice guides or doc links are listed for later lookup.\n","notes":"Summary (AGENTS.md + README):\n- Hard safety rules: never delete files; avoid destructive commands (git reset --hard, rm -rf, git clean -fd) unless user explicitly provides exact command and confirms irreversible consequences. Use safe alternatives first. Document any approved destructive action verbatim.\n- Editing discipline: no script-based code changes; modify files manually; no file proliferation (no *_v2.* style files). Use apply_patch for edits; Cargo-only toolchain; Rust 2024 nightly; unsafe forbidden; use explicit dependency versions.\n- Testing/quality gates required after substantive changes: cargo check --all-targets, cargo clippy --all-targets -- -D warnings, cargo fmt --check; run cargo test and focused tests.\n- Project semantics: xf indexes local X archive data; privacy-first (no network in core runtime); parse JS-wrapped JSON window.YTD.*; Tantivy primary search; SQLite FTS5 fallback; preserve metadata (IDs/timestamps/counts) exactly; CLI flags must be truthful; JSON output shape must remain stable.\n- README highlights: CLI provides index/search commands; supports types filters, offsets/limits, output formats (json/csv/compact); data archive layout includes data/*.js and assets/; parsing strips JS prefix; storage in SQLite + Tantivy; env vars XF_DB/XF_INDEX override storage; default storage paths by OS; performance targets and benches documented; build/test via cargo; installation via script or cargo nightly.\n","status":"closed","priority":2,"issue_type":"task","assignee":"ubuntu","created_at":"2026-01-10T02:24:03.88540847-05:00","created_by":"ubuntu","updated_at":"2026-01-10T02:25:28.26120732-05:00","closed_at":"2026-01-10T02:25:28.261214513-05:00","dependencies":[{"issue_id":"xf-9rf.1","depends_on_id":"xf-9rf","type":"parent-child","created_at":"2026-01-10T02:24:03.909918163-05:00","created_by":"ubuntu"}]}
{"id":"xf-9rf.2","title":"Build architecture map + core workflow understanding","description":"Goal:\n- Produce a high-level architecture map of xf: major modules, data flow, and runtime workflows.\n\nContext:\n- Requires prior understanding of AGENTS.md/README constraints.\n\nSteps:\n1) Inventory key modules in /data/projects/xf/src (main.rs, parser.rs, search.rs, storage.rs, index.rs, etc.).\n2) Trace core flows: indexing path (input archive -\u003e parse -\u003e storage/index), search path (query parse -\u003e execution -\u003e result formatting).\n3) Note data boundaries: DB (SQLite), search index (Tantivy), file I/O paths, and serialization formats.\n4) Record a module graph (imports, public APIs, and cross-module calls).\n\nAcceptance:\n- A concise but complete architecture summary that identifies the main pipeline stages, storage layers, and execution entry points.\n- List of files/functions that are hot paths or correctness-critical.\n","notes":"Architecture map (high level):\n- Entry point: src/main.rs wires CLI (Cli/Commands) to command handlers: index/search/stats/tweet/list/export/config/update/completions.\n- CLI definitions: src/cli.rs declares subcommands + many flags (types/limit/offset/sort/since/until/replies/context/fields, etc.). Some flags are not yet wired in main.rs (noted for later correctness checks).\n- Core modules (src/lib.rs): parser, model, storage (SQLite), search (Tantivy), config/logging/perf/error.\n\nIndexing flow:\n1) xf index \u003carchive\u003e (main.rs cmd_index): validate archive/data/, resolve db/index paths, optionally clear existing data.\n2) ArchiveParser (parser.rs) parses JS-wrapped JSON (window.YTD.*) with rayon; parse_manifest -\u003e ArchiveInfo; parse_tweets/likes/dms/grok/followers/etc into model types.\n3) Storage::open (storage.rs) opens SQLite, sets pragmas, migrates schema, and stores data into normalized tables + FTS5 virtual tables.\n4) SearchEngine::open (search.rs) opens/creates Tantivy index; writer adds documents for each data type (id/text/text_prefix/type/created_at/metadata) and commits.\n\nSearch flow:\n1) xf search \u003cquery\u003e (main.rs cmd_search): open SearchEngine and Storage; map DataType -\u003e search::DocType; call SearchEngine::search with limit+offset.\n2) SearchEngine::search (search.rs) uses Tantivy QueryParser (text + prefix field) and optional type filter; collects TopDocs; builds SearchResult with highlights (snippet generator) and metadata (stored JSON).\n3) main.rs formats results to json/json pretty/csv/compact/text (with highlight -\u003e ANSI conversion in print_result).\n\nData boundaries:\n- Input: archive files under \u003carchive\u003e/data/*.js with JS prefix; parser tolerates whitespace and trailing semicolons.\n- Storage: SQLite schema for tweets/likes/dms/grok + FTS5 tables; metadata in archive_info/meta tables.\n- Search index: Tantivy index under XF_INDEX; schema fields include id, text, text_prefix (prefix matching), type, created_at, metadata.\n\nHot paths / correctness-critical:\n- parser.rs: parse_js_file, parse_* per datatype; date parsing; numeric parsing; message aggregation.\n- search.rs: schema construction, index_* methods, query parsing, snippet generation.\n- storage.rs: schema/migrations + store_* insertions and FTS5 updates.\n","status":"closed","priority":2,"issue_type":"task","assignee":"ubuntu","created_at":"2026-01-10T02:25:50.678053409-05:00","created_by":"ubuntu","updated_at":"2026-01-10T02:27:35.671086605-05:00","closed_at":"2026-01-10T02:27:35.671094189-05:00","dependencies":[{"issue_id":"xf-9rf.2","depends_on_id":"xf-9rf","type":"parent-child","created_at":"2026-01-10T02:25:50.679360841-05:00","created_by":"ubuntu"},{"issue_id":"xf-9rf.2","depends_on_id":"xf-9rf.1","type":"blocks","created_at":"2026-01-10T02:26:00.328123138-05:00","created_by":"ubuntu"}]}
{"id":"xf-9rf.3","title":"Random deep-dive file investigations + flow traces","description":"Goal:\n- Randomly sample code files and deeply trace execution flows through imports/callers to build intuitive understanding beyond the main path.\n\nSteps:\n1) Use rg/rg --files to list candidate files; pick a random subset across modules (parser, search, storage, CLI, tests, benches).\n2) For each file: identify entry points, key data structures, and how its functions are called from other modules.\n3) Trace at least 2 multi-hop flows (file A -\u003e file B -\u003e file C) with notes on inputs/outputs and invariants.\n4) Record any surprising behavior or potential correctness pitfalls discovered during tracing.\n\nAcceptance:\n- At least 5 files deeply analyzed with call/flow notes.\n- Flow traces identify caller/callee relationships and data transformations across module boundaries.\n","notes":"Deep-dive notes (random file sampling + flow traces):\n- src/main.rs: command dispatcher; cmd_index -\u003e ArchiveParser::parse_* -\u003e Storage::store_* + SearchEngine::index_* -\u003e writer.commit + reload. cmd_search -\u003e SearchEngine::search -\u003e output formatting; cmd_stats/tweet/list/export/config/update are stubs/partial (yellow warnings) in main.\n- src/parser.rs: read_data_file -\u003e parse_js_file (split on first '=') -\u003e serde_json Value -\u003e parse_* into model structs. Uses rayon par_iter for JSON arrays. parse_manifest reads manifest.js and normalizes dates/numeric fields.\n- src/search.rs: schema defines id/text/text_prefix/type/created_at/metadata. index_* builds Tantivy docs; search() builds QueryParser over text+text_prefix, optional type filters with BooleanQuery; SnippetGenerator for highlights; SearchResult assembled with metadata JSON.\n- src/storage.rs: opens SQLite with WAL + perf pragmas; migrate/create schema; store_* inserts per model and maintains FTS5 tables; get_tweet/stats queries. Data normalized; DM messages linked by conversation_id.\n- src/cli.rs: defines flags (types, limit/offset/sort, since/until, replies/context/fields). Several flags are not wired in main.rs yet (potential correctness/UX gap for later bug-hunt).\n- src/config.rs/logging.rs/perf.rs/error.rs: full-featured config/logging/perf budgets/custom errors defined but currently not integrated into main.rs (latent functionality).\n- benches/search_perf.rs: synthetic benchmarks invoke SearchEngine and Storage directly; provides baseline for search/index/storage; uses TempDir and synthetic models.\n\nMulti-hop flow traces:\n1) xf index -\u003e main.rs cmd_index -\u003e ArchiveParser::parse_tweets -\u003e model::Tweet -\u003e Storage::store_tweets (SQLite inserts + FTS5) -\u003e SearchEngine::index_tweets (Tantivy doc) -\u003e commit + reload.\n2) xf search -\u003e main.rs cmd_search -\u003e SearchEngine::search -\u003e QueryParser + TopDocs -\u003e SnippetGenerator -\u003e model::SearchResult -\u003e main.rs output formatter (json/csv/text/compact).\n\nPotential pitfalls observed (for later bug review):\n- CLI flags defined but not used (sort/since/until/replies/context/fields/threads etc.).\n- Config/logging/perf modules unused; custom error types largely bypassed by anyhow usage in main.\n","status":"closed","priority":2,"issue_type":"task","assignee":"ubuntu","created_at":"2026-01-10T02:27:54.059223458-05:00","created_by":"ubuntu","updated_at":"2026-01-10T02:29:46.586423572-05:00","closed_at":"2026-01-10T02:29:46.586430315-05:00","dependencies":[{"issue_id":"xf-9rf.3","depends_on_id":"xf-9rf","type":"parent-child","created_at":"2026-01-10T02:27:54.061604543-05:00","created_by":"ubuntu"},{"issue_id":"xf-9rf.3","depends_on_id":"xf-9rf.2","type":"blocks","created_at":"2026-01-10T02:28:02.980609232-05:00","created_by":"ubuntu"}]}
{"id":"xf-9rf.4","title":"Review prior agent changes for correctness and regressions","description":"Goal:\n- Audit code written by other agents (not limited to latest commits) to identify bugs, inefficiencies, or regressions.\n\nSteps:\n1) Use git log/diff to locate code changes authored by agents; scan both recent and older edits.\n2) For each change: verify logic vs requirements; look for edge cases, incorrect assumptions, or performance pitfalls.\n3) Cross-check with tests/benches; add targeted tests if a bug is found.\n4) Record root-cause analysis for any issues discovered.\n\nAcceptance:\n- A documented list of reviewed changes, with issues (if any) and their root causes.\n- Any fixes are minimal, scoped, and comply with AGENTS.md editing rules.\n","notes":"Reviewed uncommitted/agent-origin diffs:\n- src/main.rs: cmd_export implemented (JSON/JSONL/CSV) + csv_escape/format_export helpers; uses Storage::get_all_* and writes to file or stdout. No correctness regressions spotted; minor risk: CSV header order uses serde_json map iteration; should be deterministic for struct field order.\n- src/storage.rs: new get_all_tweets/likes/dms/followers/following; migrate now takes \u0026self; json fields parsed with serde_json::from_str (stored values are always serialized JSON, so NULL risk low). get_all_dms drops conversation_id because DirectMessage model lacks it.\n- src/parser.rs: parse_js_file uses splitn(2,'=') and trims; parse_i64 added for sizeBytes/favorite/retweet counts; doc comments expanded. Behavior aligns with JS wrapper format and should be more tolerant.\n- src/config.rs/logging.rs/error.rs/lib.rs/cli.rs: mostly must_use/const/default/allow annotations and doc tweaks; no functional changes.\n\nPotential concerns (not confirmed bugs):\n- Export of DMs lacks conversation_id context (DirectMessage model does not carry it). If CLI intended to export conversations, model/API may need extension.\n- Several CLI flags remain unimplemented in main.rs (sort/since/until/replies/context/fields). Not introduced by these diffs, but a correctness/UX gap for later bug hunt.\n\nNo immediate regressions found that warrant code changes at this step.\n","status":"closed","priority":2,"issue_type":"task","assignee":"ubuntu","created_at":"2026-01-10T02:30:01.076013082-05:00","created_by":"ubuntu","updated_at":"2026-01-10T02:34:02.360639254-05:00","closed_at":"2026-01-10T02:34:02.360646728-05:00","dependencies":[{"issue_id":"xf-9rf.4","depends_on_id":"xf-9rf","type":"parent-child","created_at":"2026-01-10T02:30:01.078025102-05:00","created_by":"ubuntu"},{"issue_id":"xf-9rf.4","depends_on_id":"xf-9rf.2","type":"blocks","created_at":"2026-01-10T02:30:10.794020969-05:00","created_by":"ubuntu"}]}
{"id":"xf-9rf.5","title":"Fresh-eyes bug hunt + correctness fixes","description":"Goal:\n- Conduct a careful, methodical bug hunt across the codebase and fix issues with minimal, test-backed diffs.\n\nSteps:\n1) Re-read critical paths (parser/search/storage/CLI) with fresh eyes.\n2) Identify obvious errors: unchecked assumptions, incorrect error handling, silent fallbacks.\n3) For each issue: document root cause and impact; add tests before fixing when possible.\n4) Apply minimal fix using apply_patch; no unrelated refactors.\n\nAcceptance:\n- Any fixes include root-cause notes and tests when feasible.\n- No regressions; clippy/fmt/test plan recorded.\n","notes":"Fresh-eyes pass: made stats JSON optional fields skip nulls and filtered empty items in top_counts to avoid blank hashtag/mention entries. Re-ran fmt/check/clippy.","status":"in_progress","priority":2,"issue_type":"task","assignee":"ubuntu","created_at":"2026-01-10T02:34:40.255520526-05:00","created_by":"ubuntu","updated_at":"2026-01-10T19:10:08.826161079-05:00","dependencies":[{"issue_id":"xf-9rf.5","depends_on_id":"xf-9rf","type":"parent-child","created_at":"2026-01-10T02:34:40.256783946-05:00","created_by":"ubuntu"},{"issue_id":"xf-9rf.5","depends_on_id":"xf-9rf.3","type":"blocks","created_at":"2026-01-10T02:34:50.320708583-05:00","created_by":"ubuntu"}]}
